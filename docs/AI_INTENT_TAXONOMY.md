# AI Intent Taxonomy

**Document Version:** 1.0  
**Last Updated:** October 18, 2025  
**Purpose:** Reference documentation mapping user language to workbook operations

---

## Overview

This document defines the taxonomy of user intents that the AI system can recognize and handle. Each intent category includes:
- **Intent Description**: What the user wants to accomplish
- **Common Phrases**: Natural language patterns users typically use
- **Required Entities**: Information needed to execute the intent
- **Expected Operations**: WorkbookOperations generated by AI
- **Example Prompts**: Real-world user requests
- **Validation Criteria**: How to verify successful execution

This taxonomy serves as:
1. **Training reference** for AI system prompt engineering
2. **Testing guide** for intent recognition accuracy
3. **Documentation** for understanding system capabilities

---

## Intent Categories

### 1. Budget Creation & Tracking

**Intent Type:** `create_budget`  
**Category:** `create`  
**Complexity:** Medium

#### Description
User wants to create a budget workbook with income/expenses tracking, typically organized by time periods (months, quarters) and optionally by departments/categories.

#### Common User Phrases
- "Create a budget for Q1"
- "Build a monthly budget tracker"
- "Make a budget spreadsheet for 2024"
- "Set up a department budget"
- "Create budget vs actual report"
- "Track spending for the year"

#### Required Entities
- **Time Period**: Quarter (Q1), month (January), year (2024), etc.

#### Optional Entities
- **Departments**: Sales, Marketing, Operations, etc.
- **Categories**: Income, Expenses, Revenue, Costs
- **Data Types**: Budget amounts, actual amounts, variance

#### Expected Operations
1. `createWorkbook` - Name based on time period (e.g., "Q1 2024 Budget")
2. `addSheet` - One or more sheets (e.g., "Budget", "Actual", "Variance" OR department sheets)
3. `setCells` - Headers row (Month, Budget, Actual, Variance, % Variance)
4. `setCells` - Time period labels in column A (January, February, March...)
5. `setCells` - Budget values with currency formatting ($#,##0)
6. `setFormula` - Variance calculations (=Actual-Budget)
7. `setFormula` - Percentage variance (=(Actual-Budget)/Budget)
8. `applyFormat` - Bold headers, currency format, percentage format
9. `compute` - Calculate all formulas

#### Example Prompts

**Simple Budget**
```
Prompt: "Create a Q1 budget tracker"

Expected Structure:
- Workbook: "Q1 Budget"
- Sheet: "Budget"
- Columns: Month, Budget, Actual, Variance
- Rows: January, February, March, Total
- Formulas: Variance=Actual-Budget, Total=SUM(range)
```

**Department Budget**
```
Prompt: "Build a monthly budget for Sales, Marketing, and Operations"

Expected Structure:
- Workbook: "Monthly Budget"
- Sheets: Sales, Marketing, Operations, Summary
- Each sheet: Month, Budget, Actual, Variance columns
- Summary sheet: Cross-sheet rollup formulas (=Sales!Total, =Marketing!Total, etc.)
```

**YTD Budget**
```
Prompt: "Create a budget with YTD tracking"

Expected Structure:
- Columns: Month, Monthly Budget, Actual, YTD Budget, YTD Actual, Variance
- Formulas: YTD columns use cumulative SUM
- Conditional formatting for variance (red if negative, green if positive)
```

#### Validation Criteria
✅ Workbook name contains time period  
✅ Headers row is bold  
✅ Currency values formatted as $#,##0  
✅ Variance formulas compute correctly  
✅ Percentage variance formatted as 0.0%  
✅ Total row includes SUM formulas  
✅ All formulas computed (no stale cells)

---

### 2. Multi-Sheet Consolidation

**Intent Type:** `create_consolidation`  
**Category:** `create`  
**Complexity:** High

#### Description
User wants to combine data from multiple sheets into a summary/rollup sheet using cross-sheet formulas. Common for department rollups, regional aggregation, or multi-entity reporting.

#### Common User Phrases
- "Consolidate data from all sheets"
- "Roll up Sales, Marketing, and Operations"
- "Create a summary sheet combining departments"
- "Aggregate data from multiple sheets"
- "Combine regional data into total"

#### Required Entities
- **Sheet Names**: List of source sheets to consolidate (Sales, Marketing, Operations)

#### Optional Entities
- **Aggregation Type**: SUM, AVERAGE, MAX, MIN
- **Data Types**: Revenue, expenses, headcount, etc.
- **Time Periods**: If consolidating by period

#### Expected Operations
1. `createWorkbook` - Descriptive name (e.g., "Department Consolidation")
2. `addSheet` - Create source sheets (Sales, Marketing, Operations)
3. `addSheet` - Create Summary sheet
4. `setCells` - Populate source sheets with data structure and sample data
5. `setCells` - Summary sheet headers (Department, Revenue, Expenses, Profit)
6. `setFormula` - Cross-sheet references in Summary (=Sales!B10, =Marketing!B10, etc.)
7. `setFormula` - Total row aggregating all departments
8. `applyFormat` - Consistent formatting across sheets
9. `compute` - Calculate all cross-sheet formulas

#### Example Prompts

**Department Rollup**
```
Prompt: "Consolidate Sales, Marketing, and Operations sheets into a summary"

Expected Structure:
- Sheets: Sales, Marketing, Operations, Summary
- Source sheets: Headers (Category, Q1, Q2, Q3, Q4, Total)
- Summary sheet structure:
  | Department | Q1         | Q2         | Q3         | Q4         | Total      |
  |------------|------------|------------|------------|------------|------------|
  | Sales      | =Sales!F2  | =Sales!G2  | =Sales!H2  | =Sales!I2  | =Sales!J2  |
  | Marketing  | =Marketing!F2 | ...      | ...        | ...        | ...        |
  | Operations | =Operations!F2 | ...     | ...        | ...        | ...        |
  | TOTAL      | =SUM(B2:B4)| =SUM(C2:C4)| =SUM(D2:D4)| =SUM(E2:E4)| =SUM(F2:F4)|
```

**Regional Consolidation**
```
Prompt: "Create a workbook consolidating North, South, East, West regions"

Expected Structure:
- Sheets: North, South, East, West, National
- Each region sheet: Product, Units, Revenue, Profit
- National sheet: Aggregates all regions using cross-sheet SUM formulas
```

#### Validation Criteria
✅ All specified sheets created  
✅ Summary sheet contains cross-sheet formulas (Sheet!CellRef syntax)  
✅ Cross-sheet formulas reference correct source cells  
✅ Total row aggregates all source sheets  
✅ Formulas compute correctly  
✅ No #REF! errors (sheet names match)

---

### 3. Variance Analysis & Comparison

**Intent Type:** `calculate_variance`  
**Category:** `analyze`  
**Complexity:** Medium

#### Description
User wants to compare two datasets (e.g., Budget vs Actual, This Year vs Last Year, Forecast vs Actual) and highlight differences/variances. Often includes conditional formatting or status flags.

#### Common User Phrases
- "Compare budget vs actual"
- "Show variance between Q1 and Q2"
- "Analyze actual vs forecast"
- "Calculate difference between planned and actual"
- "Show me what's over/under budget"

#### Required Entities
- **Comparison Pairs**: What two values to compare (budget/actual, Q1/Q2, etc.)

#### Optional Entities
- **Threshold Values**: For flagging significant variances
- **Status Flags**: OK, WARNING, CRITICAL
- **Format Preferences**: Red/green coloring, percentage vs absolute

#### Expected Operations
1. `createWorkbook` or modify existing
2. `setCells` - Comparison columns (Planned, Actual, Variance, % Variance, Status)
3. `setFormula` - Variance = Actual - Planned
4. `setFormula` - % Variance = (Actual - Planned) / Planned
5. `setFormula` - Status flags using IF statements
6. `applyFormat` - Conditional formatting (red for negative, green for positive)
7. `applyFormat` - Percentage format for % Variance
8. `compute` - Calculate all variances

#### Example Prompts

**Budget vs Actual**
```
Prompt: "Create a variance analysis comparing budget to actual"

Expected Structure:
- Columns: Category, Budget, Actual, Variance, % Variance, Status
- Variance formula: =C2-B2
- % Variance formula: =(C2-B2)/B2
- Status formula: =IF(D2<-500,"CRITICAL",IF(D2<-100,"WARNING","OK"))
- Format: Variance column red if negative, green if positive
```

**Period Comparison**
```
Prompt: "Compare Q1 vs Q2 performance"

Expected Structure:
- Columns: Metric, Q1, Q2, Change, % Change
- Change formula: =C2-B2
- % Change formula: =(C2-B2)/B2
- Rows: Revenue, Expenses, Profit, Margin
```

**Multi-Period Trend**
```
Prompt: "Show variance between Jan, Feb, Mar revenues"

Expected Structure:
- Columns: Category, Jan, Feb, Mar, Feb vs Jan, Mar vs Feb, Total Change
- Each variance column: Current month - Previous month
- Total change: Mar - Jan
```

#### Validation Criteria
✅ Both comparison datasets present  
✅ Variance calculated as difference (Actual - Budget)  
✅ Percentage variance formatted correctly  
✅ Conditional logic for status flags works  
✅ Negative variances formatted distinctly (red/bold)  
✅ All calculations accurate

---

### 4. Year-to-Date (YTD) Tracking

**Intent Type:** `calculate_ytd`  
**Category:** `analyze`  
**Complexity:** Medium

#### Description
User wants cumulative/running total tracking across time periods. Common for revenue tracking, expense accumulation, or progress monitoring.

#### Common User Phrases
- "Calculate YTD revenue"
- "Show year to date totals"
- "Add cumulative sum column"
- "Track running total"
- "Show progressive totals by month"

#### Required Entities
- **Time Periods**: Months, quarters, weeks
- **Data Type**: What to accumulate (revenue, expenses, units)

#### Optional Entities
- **Comparison**: YTD Budget vs YTD Actual
- **Goal/Target**: Annual target for % complete calculation

#### Expected Operations
1. `createWorkbook` or modify existing
2. `setCells` - Headers (Month, Monthly Revenue, YTD Revenue)
3. `setCells` - Time period labels
4. `setFormula` - First YTD cell = Monthly value
5. `setFormula` - Subsequent YTD cells = Previous YTD + Current Month
6. `setFormula` - Optional: % of Annual Goal = YTD / Goal
7. `applyFormat` - Currency formatting
8. `compute` - Calculate running totals

#### Example Prompts

**Simple YTD**
```
Prompt: "Create a revenue tracker with YTD totals"

Expected Structure:
- Columns: Month, Monthly Revenue, YTD Revenue
- YTD formulas:
  - B2: =A2 (January YTD = January)
  - B3: =B2+A3 (February YTD = Jan YTD + Feb)
  - B4: =B3+A4 (March YTD = Feb YTD + Mar)
```

**YTD with Goal**
```
Prompt: "Track YTD sales against annual goal of $1M"

Expected Structure:
- Columns: Month, Monthly Sales, YTD Sales, Annual Goal, % Complete
- % Complete formula: =C2/$1000000
- Conditional format: Green if >80%, Yellow if 50-80%, Red if <50%
```

**Multi-Metric YTD**
```
Prompt: "YTD tracking for revenue, expenses, and profit"

Expected Structure:
- Columns: Month, Rev, Rev YTD, Exp, Exp YTD, Profit, Profit YTD
- Each YTD column: Running sum of respective monthly column
- Profit: Revenue - Expenses
```

#### Validation Criteria
✅ YTD column uses cumulative sum pattern  
✅ First YTD value equals first monthly value  
✅ Each subsequent YTD = Previous YTD + Current Month  
✅ Final YTD equals SUM of all monthly values  
✅ If goal included, % complete calculated correctly

---

### 5. Data Entry & Population

**Intent Type:** `add_data`  
**Category:** `modify`  
**Complexity:** Low

#### Description
User wants to add raw data values to cells, either single values or bulk data entry. May include existing workbook modification.

#### Common User Phrases
- "Add data to column A"
- "Enter these values in row 5"
- "Put 100 in cell B2"
- "Fill column C with these numbers: 10, 20, 30, 40"
- "Insert data starting at A2"

#### Required Entities
- **Cell References**: Where to put data (A1, B2:B10, column A)
- **Data Values**: What to enter (numbers, text, dates)

#### Optional Entities
- **Data Type**: Explicit type (number, string, date)
- **Format**: How to format (currency, percentage, date format)

#### Expected Operations
1. `setCells` - Bulk data entry
2. `applyFormat` - Apply appropriate formatting if specified
3. `compute` - If any formulas depend on new data

#### Example Prompts

**Simple Value Entry**
```
Prompt: "Put 1000 in cell B5"

Expected Operations:
- setCells: { sheet: 'current', cells: { B5: { value: 1000, dataType: 'number' } } }
```

**Bulk Entry**
```
Prompt: "Add these values to column A starting at A2: 10, 20, 30, 40, 50"

Expected Operations:
- setCells: {
    sheet: 'current',
    cells: {
      A2: { value: 10, dataType: 'number' },
      A3: { value: 20, dataType: 'number' },
      A4: { value: 30, dataType: 'number' },
      A5: { value: 40, dataType: 'number' },
      A6: { value: 50, dataType: 'number' }
    }
  }
```

**Formatted Entry**
```
Prompt: "Enter $5,000 in cells B2 through B5"

Expected Operations:
- setCells with numFmt: '$#,##0'
- Values: 5000 repeated in B2, B3, B4, B5
```

#### Validation Criteria
✅ Values entered in correct cells  
✅ Data types correct (number vs string)  
✅ Formatting applied if specified  
✅ No overwriting of existing formulas (unless explicitly requested)

---

### 6. Formula Addition & Calculation

**Intent Type:** `add_formulas`  
**Category:** `modify`  
**Complexity:** Medium

#### Description
User wants to add calculation formulas to cells. May be simple (SUM, AVERAGE) or complex (nested IF, VLOOKUP, conditional aggregation).

#### Common User Phrases
- "Add a SUM formula to D10"
- "Calculate total revenue"
- "Average the values in column B"
- "Create a formula for variance"
- "Add IF statement to flag negative values"

#### Required Entities
- **Cell Reference**: Where to put formula
- **Formula Type**: SUM, AVERAGE, IF, VLOOKUP, etc.
- **Source Range**: What cells to calculate from

#### Optional Entities
- **Conditions**: For IF statements
- **Lookup Tables**: For VLOOKUP
- **Error Handling**: IFERROR, IF(ISERROR())

#### Expected Operations
1. `setFormula` - Add formula to specified cell(s)
2. `compute` - Calculate results
3. Optional: `applyFormat` - Format results

#### Example Prompts

**Simple SUM**
```
Prompt: "Add SUM formula to D10 totaling D2:D9"

Expected Operations:
- setFormula: { sheet: 'current', cell: 'D10', formula: '=SUM(D2:D9)' }
- compute
```

**Conditional Formula**
```
Prompt: "In column E, show 'OVER' if variance is negative, 'UNDER' if positive"

Expected Operations:
- setFormula for each row:
  - E2: =IF(D2<0,"OVER","UNDER")
  - E3: =IF(D3<0,"OVER","UNDER")
  - ... (repeated for all rows)
- compute
```

**Safe Division**
```
Prompt: "Calculate profit margin in column D, avoiding division by zero"

Expected Operations:
- setFormula:
  - D2: =IF(C2=0,0,B2/C2)
  - D3: =IF(C3=0,0,B3/C3)
  - ... (repeated)
- applyFormat: percentage (0.0%)
- compute
```

**Cross-Sheet Formula**
```
Prompt: "In Summary sheet, reference total revenue from Sales sheet"

Expected Operations:
- setFormula: { sheet: 'Summary', cell: 'B5', formula: '=Sales!D10' }
- compute
```

#### Validation Criteria
✅ Formula syntax is valid  
✅ Formula references correct cells/ranges  
✅ Cross-sheet references use correct Sheet!Cell syntax  
✅ Error handling included where appropriate  
✅ Formulas compute successfully  
✅ No #DIV/0!, #REF!, #VALUE! errors

---

### 7. Report Generation

**Intent Type:** `create_report`  
**Category:** `create`  
**Complexity:** High

#### Description
User wants to create a formatted report workbook with headers, data tables, summary statistics, and visual formatting. Often includes multiple sections.

#### Common User Phrases
- "Create a monthly sales report"
- "Generate a performance report"
- "Build an executive summary"
- "Make a Q1 financial report"

#### Required Entities
- **Report Type**: Sales, financial, performance, etc.
- **Time Period**: Month, quarter, year

#### Optional Entities
- **Sections**: Summary, details, trends, YTD
- **Metrics**: Revenue, expenses, units, growth
- **Departments**: If multi-department report

#### Expected Operations
1. `createWorkbook` - Named report
2. `addSheet` - Multiple sections (Summary, Details, Trends)
3. `setCells` - Report headers and titles
4. `setCells` - Data tables with labels
5. `setFormula` - Calculations, aggregations, growth rates
6. `applyFormat` - Report formatting (headers, borders, number formats)
7. `mergeCells` - Title cells
8. `compute` - All calculations

#### Example Prompts

**Sales Report**
```
Prompt: "Create a Q1 sales report with summary and details"

Expected Structure:
- Workbook: "Q1 2024 Sales Report"
- Sheet 1 (Summary):
  - Title: "Q1 2024 Sales Summary" (merged A1:D1, bold, large font)
  - Table: Metric | Target | Actual | % of Target
  - Rows: Total Revenue, Total Units, Average Sale, Top Customer
  - Formatting: Currency for revenue, #,##0 for units, 0.0% for percentages
  
- Sheet 2 (Details):
  - Table: Month | Revenue | Units | Avg Price | Growth %
  - Rows: January, February, March, Q1 Total
  - Growth formula: =(Current-Previous)/Previous
  - Borders around table, bold headers
```

#### Validation Criteria
✅ Multiple sheets for different report sections  
✅ Clear report title (merged cells)  
✅ Headers formatted distinctly (bold, background)  
✅ Data formatted appropriately (currency, percentages, thousands)  
✅ Summary statistics calculated correctly  
✅ Professional appearance (borders, alignment)

---

### 8. Data Import & Analysis

**Intent Type:** `import_xlsx` → `create_analysis`  
**Category:** `import` → `analyze`  
**Complexity:** High

#### Description
User uploads an Excel file and wants AI to analyze it, often adding calculated columns, summary statistics, or insights.

#### Common User Phrases
- "Import this file and analyze it"
- "Load my spreadsheet and add totals"
- "Upload budget.xlsx and create variance analysis"
- "Import data and show trends"

#### Required Entities
- **File**: Excel file to import

#### Optional Entities
- **Analysis Type**: Totals, averages, trends, variance, outliers
- **New Columns**: Calculated fields to add

#### Expected Operations
1. `importXLSX` - Load file
2. `addSheet` - Optional: Create analysis sheet
3. `setFormula` - Add calculated columns
4. `setFormula` - Summary statistics
5. `applyFormat` - Enhance formatting
6. `compute` - Calculate new formulas

#### Example Prompts

**Import & Summarize**
```
Prompt: "Import sales_data.xlsx and add totals row"

Expected Operations:
1. importXLSX: { fileData: <uploaded file> }
2. Identify last data row (e.g., row 50)
3. setCells: Row 51 with "TOTAL" label
4. setFormula: SUM formulas for numeric columns
5. applyFormat: Bold total row, top border
6. compute
```

**Import & Enhance**
```
Prompt: "Load budget.xlsx and add variance columns"

Expected Operations:
1. importXLSX
2. Identify Budget and Actual columns
3. setFormula: Variance column = Actual - Budget
4. setFormula: % Variance column = Variance / Budget
5. applyFormat: Percentage format, conditional formatting
6. compute
```

#### Validation Criteria
✅ File imported successfully  
✅ Original data preserved  
✅ New calculations added in new columns  
✅ Summary rows/sheets created  
✅ Formulas reference imported data correctly

---

### 9. Number Formatting

**Intent Type:** `format_numbers`  
**Category:** `format`  
**Complexity:** Low

#### Description
User wants to apply specific number formats (currency, percentage, decimal places, date formats) to cells or ranges.

#### Common User Phrases
- "Format column B as currency"
- "Make these percentages"
- "Show 2 decimal places"
- "Format as dollars"
- "Change date format to mm/dd/yyyy"

#### Required Entities
- **Cell Range**: What to format
- **Format Type**: Currency, percentage, decimal, date

#### Optional Entities
- **Decimal Places**: How many decimals
- **Currency Symbol**: $, €, £
- **Date Format Pattern**: mm/dd/yyyy, dd-mmm-yyyy

#### Expected Operations
1. `applyFormat` - Apply numFmt to range

#### Example Prompts

**Currency Format**
```
Prompt: "Format column B as currency"

Expected Operations:
- applyFormat: {
    sheet: 'current',
    range: 'B:B',
    format: { numFmt: '$#,##0.00' }
  }
```

**Percentage Format**
```
Prompt: "Make cells D2:D10 percentages with 1 decimal"

Expected Operations:
- applyFormat: {
    sheet: 'current',
    range: 'D2:D10',
    format: { numFmt: '0.0%' }
  }
```

**Custom Number Format**
```
Prompt: "Show revenue with thousands separator and no decimals"

Expected Operations:
- applyFormat: {
    range: 'C2:C50',
    format: { numFmt: '#,##0' }
  }
```

#### Validation Criteria
✅ Correct number format applied  
✅ Format matches user specification  
✅ Decimal places correct  
✅ Currency symbol correct (if applicable)

---

### 10. Query & Information Retrieval

**Intent Type:** `query_value`  
**Category:** `query`  
**Complexity:** Low-Medium

#### Description
User asks questions about existing workbook data. AI reads the workbook and provides answers, optionally highlighting relevant cells.

#### Common User Phrases
- "What's the total revenue?"
- "Show me Q1 expenses"
- "Which month had highest sales?"
- "What's in cell B5?"
- "Is there a budget sheet?"

#### Required Entities
- **Query Subject**: What information user wants

#### Optional Entities
- **Cell Reference**: Specific cell to query
- **Sheet Name**: Which sheet to query
- **Metric**: What value to retrieve

#### Expected Operations
- **No operations generated** (read-only query)
- AI reads workbook structure
- AI locates requested information
- AI returns natural language answer
- Optional: Highlight relevant cells in UI

#### Example Prompts

**Simple Value Query**
```
Prompt: "What's the total revenue?"

AI Response:
"The total revenue is $150,000, found in cell D10 of the Summary sheet."
(Highlights cell D10)
```

**Comparison Query**
```
Prompt: "Which month had the highest sales?"

AI Response:
"March had the highest sales at $62,000 (cell C4), compared to January ($48,000) and February ($55,000)."
(Highlights relevant cells)
```

**Existence Query**
```
Prompt: "Do we have a Marketing sheet?"

AI Response:
"Yes, there's a Marketing sheet (sheet 3 of 5) with budget and actual data for Q1."
```

#### Validation Criteria
✅ Correct information retrieved  
✅ Source cell/sheet identified  
✅ Natural language response provided  
✅ No incorrect data reported  
✅ If data not found, AI states that clearly

---

## Intent Disambiguation

When user prompts are ambiguous, the AI system should:

### Ask Clarifying Questions

**Ambiguous Prompt:** "Create a report"
- Clarify: "What type of report? (sales, budget, financial, performance)"
- Clarify: "For what time period? (Q1, monthly, annual)"

**Ambiguous Prompt:** "Add formulas"
- Clarify: "What formulas? (SUM, AVERAGE, variance, etc.)"
- Clarify: "Where should I add them? (specific cells, range, column)"

### Provide Default Assumptions

If user provides partial information, AI should:
1. Make reasonable default assumptions
2. State assumptions clearly in explanation
3. Offer to adjust if needed

**Example:**
```
Prompt: "Create a budget"

AI Response:
"I'll create a Q1 budget tracker with monthly columns (January, February, March) 
and rows for Income, Expenses, and Net. If you need a different time period or 
structure, let me know!"
```

---

## Multi-Intent Handling

Some prompts contain multiple intents:

**Example:** "Create a budget and consolidate it with last year's data"
- Intent 1: `create_budget` - Create new budget
- Intent 2: `create_consolidation` - Combine with existing data
- Approach: Handle as sequential operations

**Example:** "Import sales.xlsx and add variance analysis"
- Intent 1: `import_xlsx` - Load file
- Intent 2: `calculate_variance` - Add analysis
- Approach: Import first, then analyze

---

## Confidence Scoring Guidelines

| Confidence | Criteria | Action |
|------------|----------|--------|
| **High (0.8-1.0)** | Clear intent, all required entities present, common pattern | Execute immediately |
| **Medium (0.6-0.8)** | Clear intent, some entities missing or inferred | Execute with stated assumptions |
| **Low (0.4-0.6)** | Ambiguous intent OR multiple interpretations possible | Ask for confirmation |
| **Very Low (<0.4)** | Unclear intent, missing critical entities | Ask clarifying questions |

---

## Testing Intent Recognition

For each intent type, test with:
1. **Exact match prompts** - Using documented example phrases
2. **Paraphrased prompts** - Same intent, different wording
3. **Incomplete prompts** - Missing entities (should ask for clarification)
4. **Ambiguous prompts** - Could match multiple intents (should ask for clarification)
5. **Negative tests** - Nonsensical prompts (should return "unknown" intent)

Example test cases available in `AI_PROMPT_EXAMPLES.md`.

---

## Future Intent Types

Planned additions to taxonomy:
- **Chart Generation** (`create_chart`) - "Show bar chart of sales"
- **Data Validation** (`add_validation`) - "Add dropdown list to column A"
- **Pivot Tables** (`create_pivot`) - "Pivot this data by department"
- **Data Filtering** (`filter_data`) - "Show only rows where sales > 1000"
- **Conditional Formatting** (`apply_conditional_format`) - "Highlight cells > average"
- **Advanced Analytics** (`find_outliers`, `predict_trend`) - Statistical analysis

---

## References

- **Intent Recognition Types**: `client/src/lib/ai/intent-recognition.ts`
- **System Prompts**: `client/src/lib/ai/system-prompts.ts`
- **Operation Types**: `client/src/lib/ai/operations/types.ts`
- **Capability Mapping**: `client/src/lib/ai/workbook-capabilities.ts`
- **Prompt Examples**: `docs/AI_PROMPT_EXAMPLES.md` (coming next)
